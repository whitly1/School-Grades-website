<html>

<head>
    <link rel="style sheet" href="C:\Users\Ariel\Desktop\BigProject\FrontEnd\css\design.csss">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
        integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <style>
        body {
            background-image: url("background2.jpg");
            background-size: 2000px 1030px;
        }
    </style>
</head>

<body id="bdy" onload="showData()">
    <p></p><br><br>
    <div style="font-weight: 100;" class="container">
        <div class="row">
            <div class="col-10">
                <h1 style="display: inline;">Full Name:</h1>
                <h1 style="display: inline;" id="fullName"></h1><br>
                <h1 style="display: inline;">Email:</h1>
                <h1 style="display: inline;" id="email"></h1><br>
                <h1 style="display: inline;">Faculty:</h1>
                <h1 style="display: inline;" id="faculty"></h1><br>
                <h1 style="display: inline;">Birth Date:</h1>
                <h1 style="display: inline;" id="birth"></h1><br>
                <h1 style="display: inline;">Grades:</h1>
                <h1 style="display: inline;" id="grades"></h1><br>
                <input type="button" value="Return To Main Page" onclick="back()">
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"
        integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF"
        crossorigin="anonymous"></script>
    <script>
        let fullName = document.getElementById("fullName");
        let email = document.getElementById("email");
        let faculty = document.getElementById("faculty");
        let birthDate = document.getElementById("birth");
        let grades = document.getElementById("grades");

        let data = sessionStorage.getItem("data");
        let studentData = JSON.parse(data);
        function showData() {
            let birth = studentData.BirthDate.slice(0, 10)
            birthDate.innerText = birth
            fullName.innerText = studentData.FullName
            email.innerText = studentData.email
            faculty.innerText = studentData.Faculty

            let gradesTable = document.createElement("table");
            gradesTable.border = "1";
            grades.appendChild(gradesTable);
            let title = document.createElement("tr");
            gradesTable.appendChild(title);
            let date = document.createElement("td");
            date.innerText = "DateOfTest";
            title.appendChild(date);
            let grade = document.createElement("td");
            grade.innerText = "Grade";
            title.appendChild(grade);

            studentData.Grades.forEach(grade => {
                let dataRow = document.createElement("tr");
                gradesTable.appendChild(dataRow);
                let testDate = document.createElement("td");
                dataRow.appendChild(testDate);
                let testGrade = document.createElement("td");
                dataRow.appendChild(testGrade);

                let date = grade.DateOfExam.slice(0, 10);
                testDate.innerText = date.toString();
                testGrade.innerText = grade.Grade;
            });
        }
        function back() {
            location.href = "allStudents.html"
        }
    </script>
</body>

</html>